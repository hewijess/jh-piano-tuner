<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <title>JH Piano Tuner</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <meta name="description" content="Open-source web-based tuner that runs on phones, tablets, and desktops." />
    <meta name="theme-color" content="#111111" />

    <!-- PWA manifest -->
    <link rel="manifest" href="manifest.webmanifest" />

    <!-- iOS: make it feel app-like when added to Home Screen -->
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />
    <meta name="mobile-web-app-capable" content="yes" />
    <!-- Optional: iOS icon (can reuse 192px one) -->
    <link rel="apple-touch-icon" href="icons/icon-192.png" />

    <link rel="stylesheet" href="style.css" />
</head>


<body>
    <div class="app">
        <header>
            <h1>Open Piano Tuner 0.7 Needle</h1>
            <p>Web-based tuner that runs on iPad, phone, and desktop.</p>
        </header>

        <main>
            <button id="start-button">Start Microphone</button>

            <section class="readout">
                <div class="note-display">
                    <span id="note-name">--</span>
                </div>
                <div class="freq-display">
                    <span id="frequency">0.0</span> Hz
                </div>
                <div class="cents-display">
                    <span id="cents">0.0</span> cents
                </div>
                <div class="piano-info">
                    Piano key: <span id="piano-key">--</span> (1–88, A0–C8)
                </div>
            </section>

            <div class="level-display">
                Input level: <span id="level">0.000</span>
            </div>

            <section class="needle-section">
                <div class="needle-scale">
                    <span class="scale-label">-50</span>
                    <span class="scale-label center">0</span>
                    <span class="scale-label">+50</span>
                </div>

                <div class="needle-container">

                    <!-- static tick marks + labels -->
                    <div class="tick-marks">

                        <!-- POSITIVE ticks -->
                        <div class="tick t1"></div>
                        <div class="tick t5"></div>
                        <div class="tick t10"></div>
                        <div class="tick t20"></div>
                        <div class="tick t30"></div>

                        <div class="tick-label t1-label">+1</div>
                        <div class="tick-label t5-label">+5</div>
                        <div class="tick-label t10-label">+10</div>
                        <div class="tick-label t20-label">+20</div>
                        <div class="tick-label t30-label">+30</div>

                        <!-- NEGATIVE ticks -->
                        <div class="tick t1 neg"></div>
                        <div class="tick t5 neg"></div>
                        <div class="tick t10 neg"></div>
                        <div class="tick t20 neg"></div>
                        <div class="tick t30 neg"></div>

                        <div class="tick-label t1-label neg">−1</div>
                        <div class="tick-label t5-label neg">−5</div>
                        <div class="tick-label t10-label neg">−10</div>
                        <div class="tick-label t20-label neg">−20</div>
                        <div class="tick-label t30-label neg">−30</div>

                    </div>

                    <!-- sliding background -->
                    <div id="tuning-bg"></div>

                    <!-- fixed center line -->
                    <div class="center-line"></div>

                </div>

            </section>

            <section class="status">
                <p id="status-text">Tap “Start Microphone” and play a single note.</p>
            </section>

            <div class="level-display">
                Input level: <span id="level">0.000</span>
            </div>

            <section class="sensitivity">
                <label for="sensitivity-slider">
                    Sensitivity:
                    <span id="sensitivity-label">Medium</span>
                </label>
                <input id="sensitivity-slider" type="range" min="1" max="100" value="70" />
            </section>

            <button id="update-button" hidden>Update app</button>


        </main>

        <footer>
            <p>
                Open-source starter tuner. Extend it with piano-specific features like stretch tuning and
                inharmonicity measurement.
            </p>
        </footer>
    </div>

    <script src="tuner.js"></script>
</body>

</html>